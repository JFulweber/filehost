var mongoose = mongo;
var jwt = require('jsonwebtoken');
var Promise = require('bluebird');

var resolvers = {
    Query: {
        authenticate: async function(parent, args, {User}){
            return true;
        }
    },
    Mutation: {
        createSession: async function (parent, args, {
            User,
            Session
        }) {
            return await new Promise((resolve, reject) => {
                var DeletedSession = Session.find({
                    username: args.username
                }).then((res) => {
                    res.forEach((session) => {
                        session.remove();
                    })
                });
                DeletedSession.then(() => {
                    var token = jwt.sign({
                        Username: args.username
                    }, '14112333215314159121081991351992538720517941736117113619558227780230194223132111057121201092121222221216731102846210313490230154542002274580164165220521271902441319922341382812316020637128254412011335199701621555610912924710116517623177123211611982358217195216127101110121253668731439556521612614722356293823474137247851681016740138192227444110017061351561791071286217592635916314012046774711091303312619811410223621119676186244206251271401822052518431177254155712135986031501714722045101691522434225358221118112512682351158128208255223791672118310870782117701045210725310424616773232321675925121512519919715217814588236436012062076914242131161822914819122711615103205220223226153402258291847319717924152932292521489858413797194155318957252214214741579484731088118181128349817888125554922218775187166122317840848193210141158154422181461817122015461799912012418225114219611712763195170717910322023495133917817558118740127150113751841839714214124299126114163164111112062312617124618611813819602379220712270352242061527472121692228021831871781791381114018822369896212178912073841246107104558824310022721171192196701384086282441931981432455653197251221794022722927586579121161831651916375914968102249122892341622614724819923217721671168298921565511737186821821461547556702023914585361511872322212178036140115194964183100209121471751671196512322140784628395011112882147223612643110145146209354653211082432059819415319698891206156235125619817316515417012287120459524611310111597260229208223831711677820121110988177611571645111315811218121594977185214231131205165131107216170137158145762541051641972116420616960212491107222815411519019686212117255160173135240108412455135431747147481911281251418226227140642438638331121021263210104178233791007922122023623211227957515763851101127414621611124173249174168112188442342420683617481701181717787175602131561091270101404190228682052051722136198140220192417714210812913023425314210539242221061942368133562449913113093213541001752392232431471849226253225122257963120223561184983154137816010762199681872416713011961162281245152198157103201146686518453165108173196183167156921761992341521053923730195231881131671622132281701530962522414613414812144166751291021237813718125862418923319924522916724277144262388922225312916154162754254103105143134691661422217320148130228721031762541371943614126482191897982239951393120523816125224320421196151144207120196705311310614912281641472006611821918510114739531922518218310121619016991814320195103109179842251572535421014116069981711252101761072082335213172044238251255481661195810381339471952462161514502115211917471041801120868461480189138169170242127211198538970234511277802341192471182426871148226871431212248941447510917821211524165721386123423914394811401443614025169852151612058520091218113931811644513252942714619415331959183202232772452202171482881539513019521520810297205150200672034897119191511009510895152187241381271291776713816724456111117341162062462511650163382487166191146144232145210115932247725083125981161452522391662082482202152042149240240176488862232521920398721112419541841881541281214724117310718125098109192228291189116361211101471302211819610911411017229154111742442234693206575518018515524214339642362041072551591341731658010216226894178165230321622529023847904573198771985107148206909161131233174711924022815110917859615516420035819822015823614416910018247656815614923053214121128159904810222132443586838501663819127148105114216102159563162493711216811017395176401722552202542241502072631229262502251771412121131732444819822683149252821389787587245209179249192160482114625122144130100206105218135102464422272955112222399793161142351572411725417011619211483072462061307916512111674181216125126151292161439080177179167203426224724712223102183170128183157149287524522652481736520421714612727124158552342041842108514211733542286720712117919361119747309246206157188187114612018710116376334069115671972460331624910210030185254410801372316967164252154641122249571445825513168352212362181332171971219723710382291544611948410815961228874232406127160110111714622320920539131762820410660742143810360115188566930652332122426738144671804520818310128247534014665239148238141814272851021266919112313516137110150815640612541403014210623011564491151471724413638169712365024218422945692221869216337282184145422242163362541747169107254230993861791142301868393720877168246352058106821324810518919020216514274173198152192697523225039186628469135202027763291317767247123221902021501446570321213026151792342302231299292278424023515610940159469711713212818720167208125381202251044370140451701061255617790160141100101155250232203251169229188251239748613622710518913242451011634016581145173106704151193169312128222024561168249801511232112321331209750109641391562716492172642324155188193809525481591624325195139187161736420656225105189180100217428183985572208111236148383228571322591341961121421992352041765921619217816516115382160841917016522258169616721822083239143947121138641646150150652260232565253108104154108644996161281246255112824821715811112220721762451904340121941994018142311772152242041884611531634224414243176946714319022610363175486415954241331696103941248793192244197138741402218415322623254975731993862109115418921617519116199124129124514420192212105497928147252179191110220816015024739107157963731222752316711708872081652912031461074113013116922032121635823214823728491569919723912115413367132434210195168143403047832531181322192722381621311201484667925110819290755621263187822216481242403114121466120144248247192271441154550186587248222255841481131635710930761651751402011105571242182155461141856014212206118181240190122144242111157236471184238204196218153411190140219956479742327481731492261097147796720238216128171642452069219322022236441227109192770215108107161215185482181061531605127171121908119819733636121723110423033123971251753110821155176155616724928118111431914423645882021291253124431234253357920435823013396114212641831852427921612490182113232755222314313014649112703612810910311744135255433823717216917623778252401901882152307220156167632491157616392412436852473322115367992512369130157120105241398813566233156141782279214915419166246551369816920914814822423810181293119045219242179177162167125219396852672242158125067251643123157541581602422492201892056190281921665787427313413915345238192336922802001283421415313215516197152413010889105203107311523436514212222218646194220112282481981335121835210241210901051226210321752414394252169542357615052100236148236114212214112180210228707024713120532117214240751971331421036481312162126924823011032431711551731396673515816423511547628985131581216719299164692311901382425222586531961524891154140701022015424266147214351422389612620323658222215175194181188320323971169159171193540114012394487233422381768817311314517415109103134542482402913714729522215213472532207815324625132185817121424416212516244571452951388413413312551381642414597178131631448919710017442111591176021313281122186238222942121592501548314217378190199671371942531961084022002062452311131312197512167412517721295441654113864217253862021051406129153156157961331372422514877153236189205254203111141451606514324115652188217924343237491481367925319325318085198228104631161604511648102783683123249211465537253187155209124352164184161175110185531312413628233901251912721110162167084721415521124823413238881641631862201458251671574515719255529717252402181271151221601431248418320250441970218240100127967196962091681222208835197226012914010795628225596768244216100988196185124225237185292712318241147132116182123272322252271302401403718133118933111221014147621131802361672062262332211142721520111119561211272436448113122188201240185123192193321816641581851895423201028321415811792886549323423920214610511115041130181147571791481874412220916665129111155162180179401811332336123719223811219623823518531018912573101812174534521214014859117208191179251655576128227221618614121419722122027417017125942217761781402381352174113646166131200247678675422910818206165910618916193121152195535922422162147110238204119153621676324431746859892141422212011125323561651111761106871461961091392702000161052341772161987012914584457714216623816917226220017915234621711422022230179621133218162179237223214920742861181412151404721808220211318193155631002546109141741852041974724113337249720929146181351101924115475629861651882051818117158235861319232105611975419717121620823214713280447447102140234321101647543164964200250115145200220189581631278145192901501145639243804525213813019024139226923597541131110606521524328898107896127195183942032382371922468270132222214101662722023916225366217167105145185116196236721182297519317558920820431291344777713315651761722554377421322472064915079166471071551292511041432522339119174166164161871324956602148140153919612922115079242262423031472824022011313113151621162485621824220962322446724986176244563654913411115570206146213107239101622129240152158151172201201877132895515622829211135106157488362152121398891184139220194295710827123362406447801691691075225430862284524192137332012467415701018217762312229116419010714125419622599216215168153852081011762171902496921122129184124222123124712016111111751252121202011594991761323275522411163022213181175146110387142761192441225672135183207221981842041321052013914523611913714521017653110114163144216235912462207338318521025415921221972226183126737916016844159236122211139237420024124953230157126110218252219211959728582049546712346519916791042317819113213332534036110217551399392195218013016016224118184111183861401723712112424053229779964139231641684751562443916321914217585213213831827322216812317721410423020128177101971332272202121062221011841861471322421668951751901143019148192021372471084932392281652222081176222229931001781166716672914202231147979378136185591481511014024214315923732225392128257224230169792335523414224917321522423359202001111425175351365785189154761421821932114689210551353117762181591501706718210512711113682263325520074701011941217762271891572021124417714056618238112119229461691092091421108425016821883123202480185272116110595722032014383100751081432221832303412113302616624745111104212088335716125324110615822020323549229132247114426525414395114161732532231571011013316215341617351832402485019675138391552051302421751532511049910214120920735226145342011593517021123725023010513317314211153715121711712119224419262202234190901811401991961173157997221793202165912853961510641219124323354143156501401772262022011222221461401486561229238101661032311025614416420529134199205167362432131225216114235190131661282102492076541157225145195144235124213141247222281812352441179364646720221213416617722623882182621417918455842553341249104194123222191936510212513025422733108461871292224010287706510887254741862502401639519910716722520323911710223663217574020322148127228157274311224713171191072071742822116811819613286825113325414711713117818214244150226179189153201622262151928273801621952471511426109173160247211151099501732461891952113140439140120179872282099662271361492461001923221513677158119116382042221332512220124019123025267882044714314747581111815210223817222714885804313019420317616322861864625017714614016718420131222262401568820920822132416619749211200602066219872493725689687101553723676262531961757012080351311127544821417716524638924036181228221116186239251991272233251118120154924814722713014511879223244461962487616626217087186199551632072372261621415711415510518688147134201161160189661716412531281771218073482115597155251791322422541341281213819616821914419870882082101802278336959685151146961031521024262311491941819322674751071888312447133168971531591435211421522321325020213114825437243167127161328617223120734142106193206137409293197243176243235190351842471475819512818734174234016820513115225562421308810690682162537822849120212657987196942814216713421981862186222772104821675321411869687411022721925111214115814286144701933233901371594238227151162163158174465219610222917924935207991681511651226216127422067262183147255211921015927201356811386174159143155162681391488288192492341915681222086229501091613710315172127451885415492371196925410070119472341251792222422122302291741401822272467523399641372072166616218836171117146219152917517512452382542521375697071924910517313318214675176102702442465523119714220127119461692184413023411916325224768677815210255169741811214952121324320812314721316221312556811652121153201199248168831071863517558156117114498164182912171371751212051101518618298235135224015795867825452401863206250471651451022431562402111431871212241632352372135354142192705041904212250113112120116164615410620929121176211961631762544394541292198525012066476324579243876719429230207551288754682811181250262111251832005510713056502312216581810526246991918713510216105242218238120240171781452332912514713923314777682241373423623518664136168532067907824521377112502151931121445231213220193317811969154174281251542233522320880151382062232067522667244166011625216117265115179113011331140901221051119717519132173255111238204821771655553246127188587011313112998311024974167103213222437151131672024011160110181751138222276153171163164632101619517129147135241143146204161184157931302331826557166202185175160176205112721223316419493621476581842261922341011069722017512360492221152199911020111289159243239739102311721751341911818724696180698129147110352012718379123199217571149990314979249125227250230109492231361101020103641356314441481176825322323822855183586691841215620016243172178249702011061391218521691790751333317717522524622063841197140111493645941151441958154341647213722837186315114074104244121657881159196114385241163233203602472554912520623728431081745920920211470941802071625423614666712511716133198131241351421952371652441894019112779250177901801584120502382526018023123125125410228137128200528610363911821151422226551562281871341562222361031025523353189220143476231246102229641522012091512115613315171169245607813769247145112902436082211442142928568611314937132244472287514620740752518514647721121141301891144210145177172132072511251021244321332551309081218536716176826821519724761138122482161209714710390138173186249152200232811655021225216824723614720723182232160107481411982413968162163222016219655315921516418622619214110733615531158192552557023222716223110240651221311011332042131541965041639105981661561301631401481772182262482221272112282521264416921816658192402381612521015295869321913221311521914018816527402381124319219913924811513472338618220141245232125201228710658208168250392223181123102208192187143992522096312420482104587105961791292041582522399624410111442372435118918695951172101308072236159253711078510939237211201521241621364422231351782331281041245610622182218763145281501769777121741018922415720511011773891211371581442151561692242391611524721910515642459620219720523627278341154113225891602002466012327311261133520420482161207913819787221193438230558334520224324111310113414213524712422619216130702623322511624348106223205214100451625114211016279150191471719740136221213248932161345154128189227701521271138321423092190010614330186194577128126682435421478388151621226156251158167125128841279809065154602061027106621011329494442121694991812625198113137622422520191931156620381711031271178671161131285325318024141162672292451163624714610421182211024521520142412815160174177544024466385045542211202192242710119290681215012710513017723627234185636623174414716812512917314606419923931191011981162247901382340247226771911012222481476621514525313617014315494100225139211229228311751426141177153702628130177862135063214676126147548609555181154119582192392268224423395184115133168239117393247190861150541061948122034731371411121665114149861570245231206471651432542361981632362012012838156133229222092249165170187178119203124116107240932441241320712722165917824320111418119213097176163622291667311016124413686142471034221237138147374229281740689532225624733851161431104811618014322016110415197240242301152041016916817420913116622168146230253170101222362137367117332542071381071598323018810825015338192193234112244108230241662061793781862492010121313317928176126121452151185015513218203521009711101471781089224988141561461741521168262141241611531156120423821111510325212242209182325211039712512219364985217233251101216824031134962211204187135676513023246181144194502402212288414822022366142542141243711915024553166136385622011420717319320623873823211225356512620970180253105207549669118742352315819910322969223126223145555629693634100285450551245518978902715424093203146192196861962009612261122243117548176882271852222216118238562362431471082110113716023036832136574916551129179445732140632238217697222941852111322823117818282811008519118222694105010579245961382619012801368365819619182219211862112715851822471127914818511523716918923620347135949321518323512581147241612025263196493319511820514410416910731525315068246382225148521521593111072872511275647218092552314810310314011130452232042046758417285181551861894720818618712716717521511925524015013710323914126137134226229134431161561991791170125215214972076442130102462481332166622722414280961701592552235492451499816517320912610818419845198126120291114681311699369151865011015948972361531038914714918114822919827186117852216449914236181481909821482212841748830411411592034143214211815194082512232076982222177428937109140190168781721916118341816892192206141392511242341132413815671733223312653118641261622811412232401372391114518521913462271062291371972071319212375171142451960581066106149211382402267560624983119162241088614982511801822545915512862924411873831491631012051081210713012108117620070225151224721511531531662538113648162491760114197220116538237143131572011712035781414445881691481135717379102211561820483234123182891114018317721516411323245166221210112146182190168221109913217126298261772215209594246331161771341694100581916015925597234411641791302182112272531852141941592296151391951956198449912024758459238224652231916114078244235225697567551622111582221541091025250831231403324515516817129852281182171732271231762172191902321222312723637204128379419315020820462109257252166249252322332543182153142133116651750157616177801481661382173621912224811160336323817220114419683066881682075757223211215155221021018424050992451021641842527324625422323014666123524223621024277111561831016017318951631382314221713128158183184232081062271621024178398642821934768815025017113624816025218223565927210048170102321111905622814125424158231115939024225417311653110115150691452311991762399730233233233152462401311182221445510481189851824742211282320219220923611710041254255201191204167811412328995218316423019846195170150901381675751831231381962372542503210114820020613918152541751483511713140174210227510615120620825110518214627321381862137555235108175772021396814423591216192261210711835195192192642261724615521972111811821791892028812919139241155123691916273166198430216102212198851101232462184838331431561091577344126794721805739241401311402032302342224219104235242184251169561232327454179187898814514113711529228672220122420220174194251552283610919519093242102117150941709021215310895148755418125323617518135101130193174239311632424980240115137192018725373318317024717913698414155115128285039115352439791212131522041031867317186183127539515220892411702432319311182302002115118715015612167152442418913044193096151111111219513734140230272044887692031355418621011014110420839195144111163126183192991701112815265246217144471911432210224133831481784252508179146153931221192691891821876353914819317818722273142101149226681278610921721023415917369163166707715781215112419718524570219631208310625224025331633569195492264124637217857237251186341429541721131631367013054318213214473871149902271601202216321123385228791584135227109601996312023450236699716517916115710894185183543512588127243651286718010837118229217201871671792061332224396210161781486621411277320119493207217102201233564651398224117385175158224247132995612925410911024938238179128579124882244197246156214241672482455711144221210189146961426620225210072813438228571861203918918413811610825224108113621015591140310829180108240254250109170881202371801499321523213341781925819019246167229104562671205716015121229642361392001437113115577123581812362612755232133591201150998016823321651281812261982312291112431791872552281517813031150849920959205862311119312453572124158152173115106512621069822559135722382475415919015919310818045184601911591272402232292212071331195928301218246202191441947531862245423711463103182818512622010119313118624512120324922063211342486117811120725013924916191204205969610924117324613518014918313454104188412321438216820618121417823019919119519150248193222891451624110412320448101165155262461072101312311623459115442200206250111145711110813718922620726148242491931733919213221222023016019815337171513592201201921601798525482446164211161210223129743995176103191208100232761181812999236167186172446120543412519818478151657711481301381642039190199234304823319115513927194110172114852471804441021912422368755309752271091542202452462471758136131154157198210170177142802052381815224025117613036159171352181161071451291186420854190752109196192465420918885143163224023142021691701732341749332053516025021664817645234156170100146137191951192619525161142451772394316912205226781039516378231221782491751235615616999480192282213813882632161120614350186190281810160520248225192881001721718318519930156228234552273234227253501341003192121679612024710317219319239103826412117947481621338428179218147365205411816323787471162451861237833187167158237974186411908541241471234719564195211252352182231842193220334652527116992128180206211421392512002423191374323957179113802531372541092111961361272175019716547155173282313918117104184860250771832502501532521571033212556312314214379278921455100522822812119519215709153126101188510393210249230243361842320425424142394093192144835325011209134882052288218012317424919981121981892141371688415716621913167136410159681539217037250146251111376801604469902551391976912121822315420617418199189182207289931601841558750140502325620721125541344212014114816184242124203631952461831422023351512122281076554198120186371771039989210236158239301961543522299345162233228576973194761681309392921361371252102181159221415619012517920521341251052552042021522421815420499180551546191615514241235182153931081602388013151113351731254140852202197158320829325286995243104561034325036181213681341923918415564961041558948549317587165225731695510958121117485517121723917684195205244193124114815712916217410200722446725168601172465015369611288194103140782202471606179419115666451601833078211582231771042032924185167441508701911188231822082331468812212551271992131481956231128411317958186992078262171781222068380682452148217572051125925316323443951831241152482215330146156249196382511081631512081823143206162381017145218792011431211719462254822160119157371109110125153181211210136215163542209610660131164245155271361091541311491551741801321781841422942113131219169232751491771832341994931386622285154533851102441871221471041961301171186971671332424612219010250931418823411916814421537118743818568906024520324716615718776848205127194170113195226118118724323120144611645517250991753717023397189141739624019913170254412728241829716417716314423414319122910523712611145911253022412015618887114170204132241200971233414968228811591711974179213111244111662332262559866204202477683111142157169161601021721231833236186110279119320020123817814020473237231120162024811105209824024978154168711974189211702471071240621951481127910612516193135143193242444874195021218813366222053522410221187941818190255120228242441043054731022528318241782077334515216291742552051961331346432181852232061444592095955759910129538413311823024220413117042011221781621619125210942552321619010385961961451910623819917988361958221622657698230875395192230142146101231822618119219014622239246252230206732457187212121412656175140442823519911065118101701761621212102458015113246140118203143941140351081469103112225692372431233217814713520423121112417542205177217459116826157891472541732341592092346486841301002523514317613619185731502362111611647712417720367761841370228173169262141201452431441961042660532031481851018410519331629511214145681261352325421720418620821627988417616917120496163187192897270109201185191993119141672171594622488208877528623912372391642121341547911719911233200881352251771312261751231431261462222026817422077125871054864215322615101842172482138524951128210301881572054160194152235132111250913025435874113022225985431231881806321328352091082321801482418314515516213411055101822151358351201238252482914795238218202812840774912616502458510772301312176238892153662247792541252082511742121122249193809115120516493176187925321816611291752554116181153139185191164313468112166209381951302271476922508018799523233208352218105582521020619768209181617215831134358513122721388216751492191012525187139107140199221451151942496591220646820921020520015419221832158121454589312069329871111073038361822041202241322816912118822721210225024044531791562241668321228991222521715213713226199571576192208163229901744612426915622523871158233196238156105193931380132180581272436249109842088224915316224219523225254221230792381011246220922561116212132235145216130158132722425120296702231412541312141692368391787610912647162194361335811349216151467318788113202171197125202200170226242221227290115171472241102518616062162249779166927938191203128192459421813122920210443788174482155021367387225516061254176148129161246111154934321821013312623179471862524067100122362425181929124219085315852201218410510390221107229231472552009917622303362232232134182314911522134512590222160732551911637217821524017743148227158253746891240205121175233119131241271772021263218848058249236236170182110271367939199762341712392216158211547531091377786151707325524122610219111112121916219317759242245201142582367898150210451971134027143651142049696551032272281031725529252031512086721833619916924627149100127101247361774358936916912622412742581291621782402031716311941851632411722062176209210741961611606981282081143415640114893010532251671211813371651908145172234180156103711113493945617018107125391311439832511288624021772495376316415913786772232281625482123822241431139912217717116682171362001941932438751522101931842173842241931792287562339067198791938375211232264612716519121132541611641751662141711482471288580826942255255177962615635621666478145901622212359621523214120178119136752431422320514711014734103168151101421161001942471146342658185182107129126149172180162234901112559711942191588653141911561851172406106225146310823713113116744209197261191406512131714522175769940641217756153301033121742441444320579952251662035232212392518313107179128472071341227188186912014116146226206851261009110818823170134925416771391455364811223319890191597624199371261523950122123122224121255101631782512322314719217218120221920512759775721618912725498114216315017597557216625310724484367725321660127205878117164923421921123230189103116151501671758399172162030106137312262321176618824521699144254917521794301054471112372011338218218520920019432202065920421341791561693125022125211251672161542151242041661795021217913591274898146172425418948208531971792279516230210271310452241154113317010667920819912221371873217214128112226223852422893160236501702051181257525324960701452019610914729105155133757960322924013022812247221301877022415462235174017870209261192082091991007214214125514651119140518181202150117231822420322020613521466238129178981421381842222179020991131081702121606284179771851848244934525199129122139214681271711971577934141165121775418916619956247154155112312411622016942241191311791891978822104173202254872491293611913023997274917510178244109209116512241210237747867845324915520119810522925020837206756624018012117476391291454822985022638362531516145130181004169221160222188242122715918153565113122624208206368720824922691232163158521685712420515695451641961338510561611676998126771599314124110213414117012885011019366165194861768235101781719327482251602416541602437324324072371199141228225022401082271911771062161571941812228317234582316816936252531724995125160200991316524414323020314116866105175393212130214207726177197232177215219136161956522255123248179561581792212225121620249504824813019812815227882401651874493448317820055148279010246906318618872546910718324013412961782250491723916824021148413315920136103233233144149191108461421773425465140612151525923112921119125181228202825518716024125519113106111183115302191222472142526582111611411486118218257142151109625419425153751561911112122487186116741861111723816521616941112542186821513185871671512061332461424248232361415823426245250931981002281010859661301549147102061232042261229213221245711120172471002321379252531771261042344412216161911144913218523458170142211106723718051401341161456312385221113023424204171765235281705183491217385314525119241239230142731122321937239190782062181099823014964432671395464471671522041016914417620425234201180148234931371161251422202162250127238162142168014912332379021210714483721351993118842211201563321814215318375177210144135962354815413577908011010297385398019761261651849222249188145139167653865184921841552371854911010622565921642356526157210192176509474302351766324880772012867132412003784245514013957178157251014122520220814119312215187152241902425912198185791128963319913523410317209947183159491986542042531211764927194204211158216316811014415218243131196105253377493167210236255621681575912819214672492076218821017120910111714950239229551622091158320411813713417127417417226152431261632396516313513355351991407713823710010315025213718272441013666461201762042824114595191361735718221175254235232394923311216320315610331339066469950118246201108418112813112813122229411895228894919817017719125291682274017517216253251139192620033141492447152125191603386511720714391681311741763170135382021668214189113162054522012911450513023191208168252011495225813215935489412763223109129211165110202154167139186230132198207171831856142182118208236175141483227251151187513917912117922142191361147917520418515853668324142144972023912735167212114738825518982137147105168151407033393718922010724818611720820124912368571409524116431295523122618217223917817010822816952172161711138254149484912914113511014717501391021401801991554819015082196107772531279420074108517619150137810713859241166412111604089169151199014166312441021912081051641442511946418115127533116812923121455841531951821752001291951561852201811512311862327115104210942328192171146251401242428022066231661515924196229148138198204172464171681957583140651081341341076721613554156151992511151015151176972421231181371807721617698109881891981352188135120114212227103112662241985642115221222677193737793781671022115720510970512240411843320814118013010722745232562143523424613115223420410313012123323112753212542095872709157490156133272291971328242198126941811442102041771872112246636980216104249163104612287697923364912910997696887150140558711214424617262241166871337812316321231168753150155524823822431947711228591141218415912713447156838672025995101401252491651811316319183790143733060193559322197242109235127286314621831177219190123971791012094013806281602061511290195120233124208391857244207207150472232541922276317915913523911642242198170245112029018911670207145795038204699024196132231232321672331127152933517155352283611571901392072427022237289421813116235213172716749110188228704226856912873200240366135492022019952166725224982161859221310420514582196141674114157100113102501528194235181196250227632031901001841453514022114969510738206462235831791351291607113616719422229126107210130331054051639222781591181751741233885151160670118126624522022024321771271502271965572392373187961541301862019631981831482716224313753462351293381175291442382441071652164481291698731005923622314247170223149701851712671702247114722019315930240901652253282962411872337578179173180200115445513921794641581956103155184411472001332197886802131902391324917518888194148591120447631051528814313219021801574910559235111561386414812436153271001511824116439523849417255622292358640152662388919515221569391052252376242481112948361821642307914818518110110911583620515724798115952032371221121031821885710321317914813724824911219117917812619511313918278971021407318115613455211892163117215651402111722222529160381398261116254255791623916415515237992371261451298243128926918213425218215432251138524617112622824517213524718210150219622169982082333471761415184116732522111472011831246823948318747110222240471922101712934129199103164201216021724316910921103157135180126142157221542220923332190991968234217413513207175198035154992164123134912521419320116832291202290513938106415111522651113250831831217917817323596261361041292071321961872116321834169523912115823147931014232731201872599113173128152231317322823817855121913712810162222503111912191711136892220222145220122209173991062855532155468166231156163140150141171752910125121120187157203244936219751815213512880185136200121211936118230241951378126851831021397219175541251819718719815315110845412914021418910717524892156212001141181881451525512317124112424262211431582075963992881381932392111221978118230952930217210142486691651341996813358173237684149197223206212244188302502362361331746614716891531842522974231246216616418623837177123162147722213189322315021610918922612614318912425524592622419917818097130305741179180178186352011191742451622298215145622021859095287520712819181131341612458952131911902152161345134850252105249234181972015112134226655923310631194215189622521605818912323822143129117123664392119661722170117213211203761092033581192123151155634517954513516519422134207502038729141178127104165114111923558295010212115148130227971151817562119908519724024329142156502521454689117731651101811451431113641568170018212820259931832141012473588731581516988141792391879414516111787191959114911179127958499501841581461991241941241019721115311333462042102413521778195136295910122348174234175181249130991771092275519198187732111402015018922121730995217122197115117817248136183141661091745202402161961841604214921821714611925542424521913221419813124814922205159133224176551622116443157142621081662509382152511682251521461914818814615819586322301372433419420122518923227192403019482371187823761401876529016456152413257678697292521429524620014755201871161979084211147134216117717711599817814620515615394112814216016611964381134959163137212224141469827108238671429413018116914418868582213714623770122210416716219653317015118181241351562271252051782301042165187218166160229771914876971002401987318221515065931941996720038901371241232451222415725794218024412582361981727922615520002051521378896701332051105191898323011121152302451921412096417218411415332120571756916425524949186159114218921142141972282299215225112131235351022714313317988174166224192164104423372195311242301081218717431252175177109584143741313022658142102302841150219192301493420424218181159199199190185631281198113232173142252502407474671521313311618411073573412738488510935141228216160288479237139764716380639618525114245119120123231134185250203501894722231119718110462160135116562472622012319210423510365392515623548637524814710724619620679845525411661932318413115812325080141981199762412333855101137205824511010161160951255472099114581827916617515612917624411214312055171147168494323511082022425581132424620112992461142356171002088934641411624623592431301632013818512645192081601702052332376723915411563362114332228238236155202158111263739119418362251228102177912159115013292223228542281271051298947641546620023421213980217226237231207711622520976624926835141119218939171916593961796719470126332061262852190209118601402221751711428122734141952512019927352082091421101581603513025416198519516246102842292361913116350712118717917820525273518701341891141620036561477418316111127301918413240185172257547197122118488208206250328811478240513682209179168441991131235918121920421624419182261914716522217222851702271816012521676251219205249167140169662373222119254968581766619720422691668016162619824956125134629117465182827013715122616824475185167110202138151632115824219317710835476811709612391842225323510624115220590139248271302214620650415468154213631091552394714115210814248337124116513513318615113722719156214188872172177612015624857148190108953616434225222824716252241602121132287916213022228542388013072117230262121021541662242801152631571571910613039212211981241371745221310238119420322519216181127819539622321721717413322619824564234783224872701536915716051106190184761881301163965162253254230963113980252481879217178184111061673011731581281815386615067243225171244101222342481951944322262612361975519169121177932591117660119515112628281259528170175531621172197213252354811095246253148178191381444824020137155111982461046971678120578222131102302522352001861871571942231025883240812625052911772073017223233904013018411511011153941192492324512223171206716674210250663410118216334155236422391449523216343236101229223617310847863520642192253911722838816311228187237154651191818192155118014879784718799521647216766944734623551712341352111917921024557462454924410722713217717219119723026192146618117817711352141125221226141218219216128442172198412161824725115625113418015668228633116179214742493716436240255189641917413918662251841358710302312121137613529427716165227171302363814725563641441531573247189184442532511811192311222862134425357239116841961868816667254151249941732070106117120901127647224831888248227173129231892361322021710419620214226233135136983250186611233123901322332950302022208513230156311331425067918410220215100382419861441261472532121481786112769159121413618360391906425416314214612319515674049192179231216107167195142942462493321896247122159120118065211217573921921197148151220206109741999414420921915038247173581693212523815310944491661771911420919965201182281882151562229166204246198248341411821931957611114145177852372552114919514223170242214239625913319112915015814201221271453165169152305894791911685114919213890641716111615820714158188461511781903020719420374409613720711725116230122191170145110248240116517827159846922419016113924414021618865161220103214614813222019012952183149243591021631538615521089213107143842001422144594015817535681392271942001681586321745124364078688834421722917922820928744514346172152111169810148222341101784621114710152613998110331122613613415079139351492431981886619971577768237711101481272543311511714825319781271301301081001544215576236174193130771136511063135111135548611547217291814180146131110891016832205688730105189542442245721110767742407719418012466205470251536211925433791519111778828198151324134405912416550275324510216788642167301340281271862262551219522287845815310967942211834114822210162180107170791962302141202062103431176243722152927112419812318622913823622416719127163661631668681229137134143741927111144393918914782150179484111296191591124166873114239691193024424321642101102357822072209138174228237142155242159604518687135190232162473216683710424411715210487230158741882521668211365721392110625275243247205771781661851201791006424132525410112416753661821974423920773127024023127502011372164217315292472097877225311212234722117223618516810711459121345622193232108831818417016612241755521310213424125311610319566172971871262710116337172241261448326137181998315711724766146132191761706320310410319116814710013133215203214149147664110513973171301696150851440624515797799418621274501049375131111252669819942468739245511819716117223238241119174223247401821251951801023253791431132435178169138684681212002312371971688617841861471147114723420911184135198112462298294157101122180114561953810811818321238511831324232192461842814329721956150190271202482362111527110216415123512712412719160239210020217513721311711908525066184923231211911711774129211157173218824618329581849722175224868828195200197227611201582526644816066702262514081121201661853986269854176521562192387519711514410613567642472391021785423984114724111417213412418523934234123611191441711751644122317113223614438155246791161872108014711851021349421385157262271616521582411421431301802292357915141111831611768714322238113372082187241172167920818214517423226183199417711224391162183161491714161181891322292088118831166162771772231382165719001392491472033125246207722353206229132091271319631168320712424717691123212851812101829917166130112492325198150195131926441271711426617520912346200041272085443223378230169679914964120118331865124319227401212352362113923514922496184204277242312328846111014918595226159238126170753430117251542301322368014490164196471212332335523713871188220482031713434416873941033523912812418015851271472532251751454319413134219302509362872432423222629118320451822145952482315816717417424489673211343151177026771482285788238231071261221321292142115719823924919922424473911197111186221125622554221223622830239172244191209168118355819375229186140957723549925324344390431882012141615423493564521641295222132198213316287212513056371742336517518222887572111075018625424921584125832671220531562291792052439910169846397161240255163441882312313313139147125113813341131981221116410320410018715767215169941121915362431618823320697520611217485206241620422014223323420324723220819441207223241051331451992241021082724510345127249879711673248541195020159184150206242910128952251111432081691092321411544510525311492176200211121411968121229617825012723930136109207421354415982471629522311402072482321361739143871001516618919021843551764164225851871402241381442121112967217244139185142235825713624422490119254147722432251621937121155121741062481162091703148208119149235221911503455202180218136165230769870682482537623414614122425412571701548135173821277218323812924713116972114920320312250381562116221517951165105337433192112656616615013977244321038525082246315513077148142861452396514456255531101162274203191198910516494202792241251167182551324817421319312116631317810118415815550352041841519012699182722291832539981841561852341679100981557316372033254502192231344310199552432816210123715221110944151100571214031642046831535216822710411421466479222141361402132246111713322919041360772108844522231416091288245111157158113682525522215195202242011331761301551118418624018483156242649221713999423433155247', {
                        expiresIn: "2d"
                    });
                    var NewSession = new Session({
                        Username: args.username,
                        Token: token
                    });
                    NewSession.save().then((ans) => {
                        resolve(ans);
                    }).catch((e) => {
                        reject(e);
                    }) 
                });
            })
        }
    }
}

module.exports = resolvers;